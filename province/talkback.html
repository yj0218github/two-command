<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>应用中心-对讲页面</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<link rel="stylesheet" type="text/css" href="../css/reset.css" />
	<link rel="stylesheet" type="text/css" href="../css/style.css" />
	<link rel="stylesheet" type="text/css" href="../css/apply_center.css" />
	<link rel="stylesheet" type="text/css" href="../css/apply_c_block.css" />
	<link rel="stylesheet" type="text/css" href="../js/ztree/css/zTreeStyle/zTreeStyle.css">
</head>
<body>
	<div class="wrap-content">
		<div class="tb-con">
			<div class="tb-left">
				<div class="tb-left-con">
					<ul class="ztree item-menu" id="itemmenu"></ul>
				</div>
			</div>
			<div class="tb-right">
				<div class="tb-right-con">
					<div class="tb-block-con">
						<ul class="tb-block-list">
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号监舍分机三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号监舍分机三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号监舍分机三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机</p>
							</li>
							<li>
								<input type="checkbox" name="监舍名称" />
								<img src="../images/talk.png" class="tb-img" />
								<p>三号监舍分机三号</p>
							</li>
						</ul>					
					</div>
					<div class="label-checkbox">
						<label><input type="checkbox" class="checkall" />全选</label>
					</div>			
					<div class="btn-group1">
						<a href="javascript:void(0);" class="tb-btn">呼叫</a>
						<a href="javascript:void(0);" class="tb-btn">广播</a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="../js/jquery.min.js"></script>
	<script type="text/javascript" src="../js/common.js"></script>
	<script type="text/javascript" src="../js/ztree/js/jquery.ztree.core.js"></script>
	<script type="text/javascript">
		$(function(){
			var zTreeObj;
			// zTree 的参数配置，深入使用请参考 API 文档（setting 配置详解）
			var setting = {
	    		view: {
		    		showIcon: false,
		    		showLine: false
		    	}
		    };
		    // zTree 的数据属性，深入使用请参考 API 文档（zTreeNode 节点数据详解）
		    var zNodes = [
		    	{name:"数据项配置", open:false, children:[
		       		{name:"基本信息", open:false,children:[
			       		{name:"基本信息1"},
			       		{name:"基本信息2"},
			       		{name:"基本信息3"},
			       		{name:"基本信息4"},
			       		{name:"基本信息5"},
			       		{name:"基本信息6"},
			       	]}, 
		       		{name:"家庭情况", open:false,children:[
			       		{name:"家庭情况1"},
			       		{name:"家庭情况2"},
			       		{name:"家庭情况3"},
			       		{name:"家庭情况4"},
			       		{name:"家庭情况5"},
			       		{name:"家庭情况6"},
			       	]},
			       	{name:"看守所羁押表现", open:false,children:[
			       		{name:"看守所羁押表现1"},
			       		{name:"看守所羁押表现2"},
			       		{name:"看守所羁押表现3"},
			       		{name:"看守所羁押表现看守所羁押表现4看守所羁押表现4看守所羁押表现4看守所羁押表现44"},
			       		{name:"看守所羁押表现5"},
			       		{name:"看守所羁押表现6"},
			       	]},
		       		{name:"犯罪基本情况", open:false, children:[
			       		{name:"罪名"}, 
			       		{name:"犯罪动机"},
			       		{name:"作案时间"}, 
			       		{name:"作案手段"},
			       		{name:"作案工具"}, 
			       		{name:"服务器状态"},
			       		{name:"业务配置"}, 
			       		{name:"服务器参数监测"},
			       		{name:"数据字典测试"},
			       		{name:"日志管理"},
			       		{name:"当前审核状态"}, 
			       		{name:"服务器参数监测"},
			       		{name:"数据字典测试"},
			       		{name:"日志管理"},
			       		{name:"当前审核状态"}
			       	]}
		       	]}
		    ];
		    $(document).ready(function(){
		        zTreeObj = $.fn.zTree.init($("#itemmenu"), setting, zNodes);
		    });

		    tbsetSize();		//自动获取高度
		    checkClick();		//监舍复选框点击
		    //门禁弹框和监舍弹框名称过长处理
			$(".tb-block-list li p,.tb-block-list2 li p").each(function(){
				var pText = $(this).text();
				if (pText.length > 10) {
					var pText1 = pText.substr(0,11)+"…";
					$(this).text(pText1);
					$(this).attr("title",pText);
				}else {
					$(this).text(pText);
					$(this).attr("title",pText);
				}
			});
		});

		function tbsetSize(){
			var wrapConH = $(".wrap-content").height();
			$(".tb-con").height(wrapConH - 2);
			var tbConH = $(".tb-con").height();
			$(".tb-left, .tb-right, .tb-left-con, .tb-right-con").height(tbConH);
			var btnGroupH = $(".btn-group1").height();

			var tbRightConH = $(".tb-right-con").height();
			$(".tb-block-con").height((tbRightConH-btnGroupH)+"px");
		}

		//监舍复选框点击
		function checkClick(){
			// 点击li时checkbox选中效果
			$(".tb-block-list li").click(function(){
	            var input = $(this).find(":checkbox");
	            if (!$(input).prop("checked")) {
	                $(input).prop("checked",true);
	            }else {
	                $(input).prop("checked", false);
	            }
	        });

	        // 点击input时checkbox选中效果
	        $(".tb-block-list li :checkbox").click(function(){
	            if (!$(this).prop("checked")) {
	            	$(this).prop("checked",true);
	            }else {
	            	$(this).prop("checked",false);
	            }
	        });

			//checkall全选
	        $(".checkall").click(function(){
	        	if (this.checked) {
	        		$(".tb-block-list li :checkbox").prop("checked",true);
	        	}else{
	        		$(".tb-block-list li :checkbox").prop("checked",false);
	        	}
	        });

	        //设置全选复选框
			$(".tb-block-list li :checkbox,.tb-block-list li").click(function(){
				allchk();
			});
			
			function allchk(){
				var chknum = $(".tb-block-list li :checkbox").size();//选项总个数
				var chk = 0;
				$(".tb-block-list li :checkbox").each(function(){ 
			        if($(this).prop("checked") == true){
						chk++;
					}
			    });
				if(chknum==chk){  //全选
					$(".checkall").prop("checked",true);
				}else{  //不全选
					$(".checkall").prop("checked",false);
				}
			}

	        //多选框 防止事件冒泡
	        $(".tb-block-list").delegate("input", "click", function (event) {
	        	event.stopImmediatePropagation();
	        });
		}
	</script>
</body>
</html>